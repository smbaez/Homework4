<!DOCTYPE html>
<html>
<script src = "db2.json"></script>
<head>
Select Bus ID<br>
</head>
<body>
<select id = "mySelect" onchange="displayNewInfo()"></select>
<div id = "busInfo"></div>
<script>

var myList = [];
function getID(item){return item.id}
var busID = mydata.vehicles.map(getID);
busID.forEach(function(bus){
    if(myList.includes(bus)){myList}
    else{myList.push(bus)};
})

for (i=0; i < myList.length; i++){
    var element = document.createElement("option");
    element.innerHTML = myList[i];
    document.getElementById('mySelect').append(element);
}

function displayNewInfo(){
    var selectedbusID = document.getElementById("mySelect")
                        .options[document.getElementById("mySelect").selectedIndex]
                        .value;
    var busInfo = [];
    mydata.vehicles.forEach(function(bus){
        if(bus.id === selectedbusID){busInfo.push(bus)}
    })
    document.getElementById("busInfo").innerHTML = JSON.stringify(busInfo);
}
</script>
</body>
</html>